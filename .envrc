# .envrc - Activate conda environment

use_conda() {
    local env_name="${1:-$(basename "$PWD")}"
    eval "$(conda shell.zsh hook 2>/dev/null)"
    if conda env list | grep -q "^${env_name} "; then
        conda activate "$env_name"
        log_status "Activated conda environment: ${env_name}"
    else
        log_error "Conda environment '${env_name}' not found"
        return 1
    fi
}

# Load local overrides
[[ -f .envrc.local ]] && source .envrc.local

use_conda
